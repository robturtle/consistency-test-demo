plugins {
  id 'com.github.johnrengelman.shadow' version '1.2.3'
}

version '1.0'

dependencies {
  compile project(':thrift-stub')
}

jar {
  manifest {
    attributes 'Main-Class': 'dsf16.KVStoreClient'
  }
}

task publish(type: Copy) {
  from 'build/libs/kvclient.jar'
  into '../publish'
}

shadowJar.archiveName = 'kvclient.jar'
shadowJar.finalizedBy publish

build.finalizedBy shadowJar
